{{ agent.instruction }}

{% if agent.files != null and (agent.toolNames contains 'rag' or agent.toolNames contains 'retrieval' or agent.toolNames contains 'read_files') %}
下面是知识库的摘要信息，请你综合判断是否需要调用知识库相关工具
<KnowledgeBase>
{% for file in agent.files %}
{% if agent.toolNames contains file.tool or file.tool == '_all' %}
<knowledge>
<id>{{file.id}}</id>
<name>{{file.name}}</name>
<abstract>{{file.abstractInfo}}</abstract>
</knowledge>
{% endif %}
{% endfor %}
</KnowledgeBase>
{% endif %}
